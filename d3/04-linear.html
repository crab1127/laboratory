<!DOCTYPE html>
<html>
<head>
  <title>比例尺</title>
</head>
<body>
  <script type="text/javascript" src="/node_modules/d3/d3.min.js"></script>
  <script>
    let dataset = [2.5, 2.1, 1.7, 1.3, 0.9]
    let linear = d3.scale.linear()
                    .domain([0, d3.max(dataset)])
                    .range([0, 250])
    let rectHeight = 25

    let svg = d3.select('body')
                .append('svg')
                .attr('width', 300)
                .attr('height', 300)

    svg.selectAll('rect')
        .data(dataset)
        .enter()
        .append('rect')
        .attr('x', 20)
        .attr('y', function(d, i) {
          return i * rectHeight
        })
        .attr('width', function (d) {
          return linear(d)
        })
        .attr('height', rectHeight - 2)
        .attr('fill', 'steelblue')
  </script>
</body>
</html>